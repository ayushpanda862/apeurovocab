<!DOCTYPE html>
<html>
<head>
  <title>AP Euro Vocab Drill</title>
  <link rel="stylesheet" href="style.css">
  <meta charset="utf-8">
  <style>
    body { font-family: sans-serif; padding: 20px; max-width: 800px; margin: auto; }
    select { width: 100%; margin-bottom: 10px; }
    .term-block { margin-bottom: 20px; }
    #timer { font-weight: bold; color: darkred; }
  </style>
</head>
<body>
  <h1>AP Euro Vocab Quiz: Chapter 15</h1>
  <button onclick="window.open('table.html', '_blank')">Open Vocab Table</button>
  <!-- <button onclick="window.open('flashcards.html', '_blank')">Open Flashcards</button>
 -->
  <div class="settings">
    <label><input type="checkbox" id="toggleVocab1" checked> Use Basic Definitions</label><br>
    <label><input type="checkbox" id="toggleVocab2" checked> Use Functional Roles</label><br>
    <hr>
    <label>
      <input type="checkbox" id="useRange">
      <span>Use Custom Range</span>
    </label>

    <label>
      Start Index:
      <input type="number" id="rangeStart" min="1" value="1">
    </label>

    <label>
      End Index:
      <input type="number" id="rangeEnd" min="1" value="64">
    </label>
    
  </div>
  <button onclick="startQuiz()">Start Quiz</button>
  <p id="timer"></p>
  <form id="quizForm"></form>
  <button onclick="submitQuiz()">Submit</button>
  <div id="results"></div>

  <script>
const vocab1 = [
  { term: "Sovereignty", def: "Supreme authority to govern without external interference" },
  { term: "Absolutism", def: "System where monarch holds total power, often justified by divine right" },
  { term: "Mercantilism", def: "Economic theory emphasizing state control of trade to increase national wealth" },
  { term: "Republicanism", def: "Political system where power rests with elected representatives, not a monarch" },
  { term: "Constitutionalism", def: "Government limited by laws and a constitution, often with checks on power" },
  { term: "Cabinet government", def: "Executive leadership by a group of ministers advising the monarch or head of state" },
  { term: "Intendants", def: "Royal officials in France who enforced central policies in provinces" },
  { term: "Paulette", def: "French tax allowing officials to make their offices hereditary" },
  { term: "Fronde", def: "Series of French civil wars challenging royal authority during Louis XIV’s youth" },
  { term: "Generalites", def: "Administrative districts in France used for tax collection and governance" },
  { term: "French Academy", def: "Institution founded to standardize and promote French language and literature" },
  { term: "Versailles", def: "Lavish palace symbolizing Louis XIV’s absolute power and control over nobility" },
  { term: "Dutch States General", def: "Governing body of the Dutch Republic, representing provincial interests" },
  { term: "Peace of Utrecht", def: "1713 treaty ending War of Spanish Succession, balancing European powers" },
  { term: "Cabal", def: "Group of English ministers under Charles II; origin of the term 'cabinet'" },
  { term: "Instrument of Government", def: "England’s first written constitution under Cromwell’s Protectorate" },
  { term: "English Bill of Rights", def: "1689 law limiting monarch’s power and affirming parliamentary rights" },
  { term: "Edict of Nantes", def: "1598 decree granting religious freedom to French Protestants (Huguenots)" },
  { term: "Scottish revolt", def: "Uprising against Charles I’s religious reforms, sparking wider conflict" },
  { term: "War of the Spanish Succession", def: "Conflict over who would inherit Spanish throne; ended with Peace of Utrecht" },
  { term: "Glorious Revolution", def: "1688 overthrow of James II, replacing him with William and Mary" },
  { term: "English Civil War", def: "War between Parliament and Charles I over governance and authority" },
  { term: "Navigation Acts", def: "English laws restricting colonial trade to benefit the mother country" },
  { term: "Ship money", def: "Tax levied by Charles I without Parliament, sparking resistance" },
  { term: "Joint stock company", def: "Business model where investors share profits and risks" },
  { term: "Divine right", def: "Belief that monarchs are chosen by God and answer only to Him" },
  { term: "Duke of Sully", def: "Finance minister to Henry IV; improved French economy and infrastructure" },
  { term: "Louis XIII", def: "French king who ruled with Cardinal Richelieu’s guidance" },
  { term: "Cardinal Richelieu", def: "Chief minister who strengthened royal power and weakened nobles" },
  { term: "La Rochelle", def: "Huguenot stronghold besieged by Richelieu to enforce royal authority" },
  { term: "Louis XIV", def: "French king known for absolutism and building Versailles" },
  { term: "Cardinal Mazarin", def: "Successor to Richelieu; helped Louis XIV centralize power" },
  { term: "Jean-Baptiste Colbert", def: "Finance minister who promoted mercantilism under Louis XIV" },
  { term: "Philip III", def: "Spanish king during early 17th century; delegated power to favorites" },
  { term: "Olivares", def: "Spanish minister who tried to centralize power and reform finances" },
  { term: "James I", def: "English king who believed in divine right and clashed with Parliament" },
  { term: "Charles I", def: "English king executed after Civil War for abusing royal power" },
  { term: "Oliver Cromwell", def: "Leader of Parliamentary forces; ruled as Lord Protector" },
  { term: "Charles II", def: "Restored monarch after Cromwell; balanced royal and parliamentary power" },
  { term: "James II", def: "Catholic king overthrown in Glorious Revolution" },
  { term: "Triennial Act", def: "Law requiring Parliament to meet every three years" },
  { term: "Thomas Hobbes", def: "Political thinker who argued for strong monarchy in Leviathan" },
  { term: "Protectorate", def: "Cromwell’s government after monarchy was abolished" },
  { term: "William and Mary", def: "Monarchs who accepted constitutional limits after Glorious Revolution" },
  { term: "John Locke", def: "Philosopher who argued for natural rights and government by consent" },
  { term: "Dutch East India Company", def: "Powerful trading company controlling Dutch colonial commerce" },
  { term: "Military revolution", def: "Transformation in warfare with new tactics, armies, and fortifications" },
  { term: "Market economy", def: "System where prices and production are driven by supply and demand" },
  { term: "Great Chain of Being", def: "Hierarchical view of creation from God to lowest life forms" },
  { term: "Just price", def: "Medieval idea that goods should be sold at fair, moral value" },
  { term: "Moral economy", def: "Belief that economic practices should reflect community ethics, not profit" },
  { term: "William Laud", def: "Archbishop who enforced religious uniformity under Charles I" },
  { term: "Long Parliament", def: "Parliament that sat from 1640 to 1660, challenging royal authority" },
  { term: "Rump Parliament", def: "Parliament left after Pride’s Purge; tried and executed Charles I" },
  { term: "Test Act", def: "Law barring Catholics from public office in England" }
];

const vocab2 = [
  { term: "Sovereignty", function: "Enabled centralized rule and justified monarchs’ authority over law, religion, and taxation" },
  { term: "Absolutism", function: "Consolidated royal power by sidelining representative bodies and enforcing divine authority" },
  { term: "Mercantilism", function: "Strengthened state power through controlled trade and colonial exploitation" },
  { term: "Republicanism", function: "Challenged monarchy by promoting civic virtue and governance through elected representatives" },
  { term: "Constitutionalism", function: "Limited royal authority by embedding legal checks and parliamentary oversight" },
  { term: "Cabinet government", function: "Streamlined executive decisions through coordinated ministerial leadership" },
  { term: "Intendants", function: "Extended royal control into provinces by bypassing local nobles" },
  { term: "Paulette", function: "Preserved bureaucratic continuity by monetizing office inheritance" },
  { term: "Fronde", function: "Exposed weaknesses in royal authority and fueled Louis XIV’s absolutist resolve" },
  { term: "Generalites", function: "Standardized tax collection and reinforced administrative centralization in France" },
  { term: "French Academy", function: "Promoted linguistic unity and cultural prestige under royal patronage" },
  { term: "Versailles", function: "Symbolized absolutist control and domesticated the nobility through court rituals" },
  { term: "Dutch States General", function: "Balanced provincial autonomy with collective decision-making in a republican framework" },
  { term: "Peace of Utrecht", function: "Redrew European power balance and curbed Bourbon expansion" },
  { term: "Cabal", function: "Foreshadowed modern cabinet politics through informal ministerial coordination" },
  { term: "Instrument of Government", function: "Established a constitutional framework for Cromwell’s military rule" },
  { term: "English Bill of Rights", function: "Codified parliamentary supremacy and safeguarded civil liberties" },
  { term: "Edict of Nantes", function: "Temporarily defused religious conflict by granting Huguenots limited rights" },
  { term: "Scottish revolt", function: "Triggered broader resistance to royal religious imposition and escalated toward civil war" },
  { term: "War of the Spanish Succession", function: "Prevented dynastic union of France and Spain, preserving European balance" },
  { term: "Glorious Revolution", function: "Replaced absolutism with constitutional monarchy and affirmed Protestant succession" },
  { term: "English Civil War", function: "Tested limits of royal power and led to temporary abolition of monarchy" },
  { term: "Navigation Acts", function: "Boosted English maritime dominance and restricted colonial trade flexibility" },
  { term: "Ship money", function: "Provoked constitutional crisis by bypassing parliamentary taxation rights" },
  { term: "Joint stock company", function: "Enabled large-scale colonial ventures by pooling investor capital" },
  { term: "Divine right", function: "Justified monarchs’ unchecked authority as ordained by God" },
  { term: "Duke of Sully", function: "Stabilized France’s finances and laid groundwork for Bourbon absolutism" },
  { term: "Louis XIII", function: "Centralized power through Richelieu’s policies and subdued noble resistance" },
  { term: "Cardinal Richelieu", function: "Strengthened monarchy by curbing noble power and enforcing royal authority" },
  { term: "La Rochelle", function: "Crushed Huguenot resistance and reinforced Catholic royal dominance" },
  { term: "Louis XIV", function: "Embodied absolutism through personal rule and cultural grandeur" },
  { term: "Cardinal Mazarin", function: "Preserved royal authority during regency and suppressed Fronde uprisings" },
  { term: "Jean-Baptiste Colbert", function: "Expanded state revenue through mercantilist reforms and industrial promotion" },
  { term: "Philip III", function: "Delegated rule to favorites, weakening Spanish central authority" },
  { term: "Olivares", function: "Attempted fiscal reform and centralization, but provoked revolts and decline" },
  { term: "James I", function: "Asserted divine right and resisted parliamentary constraints" },
  { term: "Charles I", function: "Provoked civil war through authoritarian rule and religious imposition" },
  { term: "Oliver Cromwell", function: "Replaced monarchy with military dictatorship under republican guise" },
  { term: "Charles II", function: "Restored monarchy while navigating religious tensions and parliamentary limits" },
  { term: "James II", function: "Alienated elites through Catholic favoritism, triggering his overthrow" },
  { term: "Triennial Act", function: "Prevented royal avoidance of Parliament by mandating regular sessions" },
  { term: "Thomas Hobbes", function: "Defended absolute monarchy as necessary to prevent societal chaos" },
  { term: "Protectorate", function: "Institutionalized Cromwell’s rule with military and legislative control" },
  { term: "William and Mary", function: "Accepted constitutional limits and affirmed Protestant governance" },
  { term: "John Locke", function: "Justified rebellion against tyranny and shaped liberal political theory" },
  { term: "Dutch East India Company", function: "Dominated Asian trade and exemplified commercial imperialism" },
  { term: "Military revolution", function: "Transformed warfare with professional armies and new tactics" },
  { term: "Market economy", function: "Shifted production and pricing to consumer demand and competition" },
  { term: "Great Chain of Being", function: "Reinforced social hierarchy as divinely ordained and immutable" },
  { term: "Just price", function: "Protected consumers from exploitation by enforcing moral pricing standards" },
  { term: "Moral economy", function: "Framed economic justice as communal responsibility over profit" },
  { term: "William Laud", function: "Imposed religious uniformity, fueling resistance and civil unrest" },
  { term: "Long Parliament", function: "Asserted legislative power and challenged royal prerogative" },
  { term: "Rump Parliament", function: "Legitimized regicide and governed post-monarchy England" },
  { term: "Test Act", function: "Excluded Catholics from public office, reinforcing Protestant dominance" }
];



    let selectedTerms = [];
    let timer;

    const settings = {
      vocab1: true,
      vocab2: true
    };

    // Update settings when toggles change
    document.getElementById("toggleVocab1").addEventListener("change", e => settings.vocab1 = e.target.checked);
    document.getElementById("toggleVocab2").addEventListener("change", e => settings.vocab2 = e.target.checked);

    function startQuiz() {
      document.getElementById("results").innerHTML = "";
      const form = document.getElementById("quizForm");
      form.innerHTML = "";

      const sources = [];
      if (settings.vocab1) sources.push(vocab1);
      if (settings.vocab2) sources.push(vocab2);

      if (sources.length === 0) {
        alert("Please enable at least one vocab source.");
        return;
      }

      const useRange = document.getElementById("useRange").checked;
      const rangeStart = parseInt(document.getElementById("rangeStart").value) - 1; // convert to 0-based
      const rangeEnd = parseInt(document.getElementById("rangeEnd").value) - 1;

      const maxLength = Math.min(...sources.map(arr => arr.length));
      const validStart = Math.max(0, Math.min(rangeStart, maxLength - 1));
      const validEnd = Math.max(validStart, Math.min(rangeEnd, maxLength - 1));
      if (useRange && (validEnd - validStart + 1) < 10) {
        alert("Selected range must include at least 10 items for the quiz.");
        return;
      }

      const usedIndices = new Set();
      selectedTerms = [];

      while (selectedTerms.length < 10) {
        const index = useRange
          ? Math.floor(Math.random() * (validEnd - validStart + 1)) + validStart
          : Math.floor(Math.random() * maxLength);
        if (usedIndices.has(index)) continue;

        const source = sources[Math.floor(Math.random() * sources.length)];
        selectedTerms.push(source[index]);
        usedIndices.add(index);
      }

      selectedTerms.forEach((item, index) => {
        const display = item.def || item.function || item.context || "No definition available";
        const block = document.createElement("div");
        block.className = "term-block";
        block.innerHTML = `<strong>${index + 1}. ${display}</strong><br>
          <input type="text" id="q${index}" placeholder="Type the matching term" autocomplete="off">`;
        form.appendChild(block);
      });

      startTimer(240);
    }

    function startTimer(seconds) {
      clearInterval(timer);
      const timerDisplay = document.getElementById("timer");
      timerDisplay.textContent = `Time Remaining: ${seconds}s`;

      timer = setInterval(() => {
        seconds--;
        timerDisplay.textContent = `Time Remaining: ${seconds}s`;
        if (seconds <= 0) {
          clearInterval(timer);
          submitQuiz();
        }
      }, 1000);
    }

    function submitQuiz() {
      clearInterval(timer);
      let output = "<h2>Results</h2><ul>";

      selectedTerms.forEach((item, index) => {
        const typed = document.getElementById(`q${index}`).value.trim();
        const display = item.def || item.function || item.context || "No definition available";
        output += `<li><strong>Definition:</strong> ${display}<br>
        <strong>Your answer:</strong> ${typed}<br>
        <strong>Correct term:</strong> ${item.term}</li>`;
      });

      document.getElementById("results").innerHTML = output;
    }

  </script>
</body>
</html>
