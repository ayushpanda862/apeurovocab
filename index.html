<!DOCTYPE html>
<html>
<head>
  <title>AP Euro Vocab Drill</title>
  <link rel="stylesheet" href="style.css">
  <meta charset="utf-8">
  <style>
    body { font-family: sans-serif; padding: 20px; max-width: 800px; margin: auto; }
    select { width: 100%; margin-bottom: 10px; }
    .term-block { margin-bottom: 20px; }
    #timer { font-weight: bold; color: darkred; }
  </style>
</head>
<body>
  <h1>AP Euro Vocab Quiz: Chapter 15</h1>
  <button onclick="window.open('table.html', '_blank')">Open Vocab Table</button>
  <!-- <button onclick="window.open('flashcards.html', '_blank')">Open Flashcards</button>
 -->
  <div class="settings">
    <label><input type="checkbox" id="toggleVocab1" checked> Use Basic Definitions</label><br>
    <label><input type="checkbox" id="toggleVocab2" checked> Use Functional Roles</label><br>
    <hr>
    <label>
      <input type="checkbox" id="useRange">
      <span>Use Custom Range</span>
    </label>

    <label>
      Start Index:
      <input type="number" id="rangeStart" min="1" value="1">
    </label>

    <label>
      End Index:
      <input type="number" id="rangeEnd" min="1" value="64">
    </label>
    
  </div>
  <button onclick="startQuiz()">Start Quiz</button>
  <p id="timer"></p>
  <form id="quizForm"></form>
  <button onclick="submitQuiz()">Submit</button>
  <div id="results"></div>

  <script>
const vocab1 = [
  { term: "Second serfdom", def: "Revival of serfdom in Eastern Europe during the early modern period" },
  { term: "Baroque", def: "Art style known for drama, movement, and grandeur" },
  { term: "Junkers", def: "Prussian landowning nobles with strong military and political influence" },
  { term: "Kholops", def: "Russian peasants who were legally bound to serve their lords" },
  { term: "Boyar", def: "High-ranking Russian noble before Peter the Great" },
  { term: "Autocracy", def: "Government where one person holds unlimited power" },
  { term: "Mongols", def: "Nomadic people who built a vast empire across Asia and Eastern Europe" },
  { term: "Pragmatic Sanction", def: "Law allowing Habsburg lands to be inherited by a female heir" },
  { term: "Cossacks", def: "Free warriors from Ukraine and southern Russia known for independence" },
  { term: "Time of Troubles", def: "Period of chaos and civil war in Russia after the death of Ivan IV" },
  { term: "Battle of Poltava", def: "Major Russian victory over Sweden in the Great Northern War" },
  { term: "Elbe-Trieste Line", def: "Cold War division between Western and Eastern Europe" },
  { term: "Stadholder", def: "Dutch leader who governed provinces in the Netherlands" },
  { term: "Service nobility", def: "Russian nobles who earned status through government or military service" },
  { term: "Third Rome", def: "Idea that Moscow succeeded Rome and Constantinople as the center of Christianity" },
  { term: "Ottoman Empire", def: "Large Muslim empire that ruled parts of Europe, Asia, and Africa for centuries" },
  { term: "Bohemian Estates", def: "Assembly of nobles in Bohemia with political power before Habsburg control" },
  { term: "Ferdinand II", def: "Holy Roman Emperor who led Catholic forces during the Thirty Years' War" },
  { term: "Ferdinand III", def: "Holy Roman Emperor who helped end the Thirty Years' War" },
  { term: "Suleiman the Magnificent", def: "Powerful Ottoman sultan known for legal reforms and military success" },
  { term: "Charles VI", def: "Holy Roman Emperor who issued the Pragmatic Sanction" },
  { term: "Elector of Brandenburg", def: "German prince who ruled Brandenburg and helped shape Prussia" },
  { term: "Frederick William the “Great Elector”", def: "Prussian ruler who strengthened the army and central government" },
  { term: "Frederick William I", def: "Prussian king known for building a strong military state" },
  { term: "Ivan IV", def: "Russian tsar known as Ivan the Terrible for his harsh rule" },
  { term: "Peter the Great", def: "Russian tsar who modernized Russia and expanded its territory" },
  { term: "Great Northern War", def: "Conflict where Russia challenged Sweden for control of the Baltic" },
  { term: "Ivan the Great", def: "Russian ruler who ended Mongol rule and expanded Moscow’s power" },
  { term: "Stenka Razin", def: "Cossack leader who led a major rebellion against Russian nobility" },
  { term: "Charles XII of Sweden", def: "Swedish king who fought Russia in the Great Northern War" },
  { term: "Sultan", def: "Muslim ruler, especially in the Ottoman Empire" },
  { term: "Janissary corps", def: "Elite Ottoman soldiers recruited from Christian boys" },
  { term: "Millet system", def: "Ottoman system allowing religious communities to govern themselves" },
  { term: "Harem", def: "Private living quarters of the Ottoman sultan, often housing wives and concubines" },
  { term: "Peter Paul Rubens", def: "Baroque painter known for vibrant and dramatic works" },
  { term: "Johann Sebastian Bach", def: "German composer known for complex and expressive Baroque music" }
];

const vocab2 = [
  { term: "Second serfdom", function: "Reinforced noble control over peasants and tied labor to land in Eastern Europe" },
  { term: "Baroque", function: "Promoted religious and royal power through dramatic art and architecture" },
  { term: "Junkers", function: "Supported monarchs in exchange for privileges and military leadership in Prussia" },
  { term: "Kholops", function: "Maintained feudal hierarchy by binding peasants to service in Russia" },
  { term: "Boyar", function: "Held regional power and influenced Russian politics before centralization under the tsars" },
  { term: "Autocracy", function: "Allowed rulers to govern without checks from assemblies or legal constraints" },
  { term: "Mongols", function: "Shaped Russian political structure through tribute systems and military dominance" },
  { term: "Pragmatic Sanction", function: "Secured Habsburg succession by legitimizing female inheritance" },
  { term: "Cossacks", function: "Acted as frontier defenders and sometimes rebels against centralized authority" },
  { term: "Time of Troubles", function: "Destabilized Russia and led to the rise of the Romanov dynasty" },
  { term: "Battle of Poltava", function: "Marked Russia’s emergence as a major European power" },
  { term: "Elbe-Trieste Line", function: "Divided Europe politically and ideologically during the Cold War" },
  { term: "Stadholder", function: "Balanced Dutch provincial autonomy with centralized military leadership" },
  { term: "Service nobility", function: "Linked noble status to loyalty and service to the Russian state" },
  { term: "Third Rome", function: "Justified Moscow’s religious and imperial authority after the fall of Constantinople" },
  { term: "Ottoman Empire", function: "Unified diverse regions under Islamic rule and centralized administration" },
  { term: "Bohemian Estates", function: "Resisted Habsburg control before being subdued after the Thirty Years’ War" },
  { term: "Ferdinand II", function: "Strengthened Catholic power and imperial authority during religious conflict" },
  { term: "Ferdinand III", function: "Helped restore imperial stability and negotiated peace in Europe" },
  { term: "Suleiman the Magnificent", function: "Expanded Ottoman territory and reformed legal and administrative systems" },
  { term: "Charles VI", function: "Preserved dynastic continuity through legal reform and diplomacy" },
  { term: "Elector of Brandenburg", function: "Laid the foundation for Prussia’s rise through territorial consolidation" },
  { term: "Frederick William the “Great Elector”", function: "Built a strong army and centralized Prussian government" },
  { term: "Frederick William I", function: "Transformed Prussia into a militarized and disciplined state" },
  { term: "Ivan IV", function: "Expanded Russian territory and centralized power through fear and repression" },
  { term: "Peter the Great", function: "Modernized Russia and increased its influence in European affairs" },
  { term: "Great Northern War", function: "Shifted dominance in Northern Europe from Sweden to Russia" },
  { term: "Ivan the Great", function: "Unified Russian lands and asserted independence from Mongol rule" },
  { term: "Stenka Razin", function: "Challenged Russian nobility and inspired peasant resistance" },
  { term: "Charles XII of Sweden", function: "Led Sweden in military campaigns that ultimately weakened its power" },
  { term: "Sultan", function: "Exercised supreme authority over the Ottoman Empire’s political and religious life" },
  { term: "Janissary corps", function: "Served as elite military force loyal to the Ottoman sultan" },
  { term: "Millet system", function: "Managed religious diversity by granting autonomy to minority communities" },
  { term: "Harem", function: "Symbolized royal prestige and controlled dynastic succession in the Ottoman court" },
  { term: "Peter Paul Rubens", function: "Used art to glorify monarchy and religious themes in the Baroque era" },
  { term: "Johann Sebastian Bach", function: "Advanced musical complexity and expressed religious devotion through composition" }
];



    let selectedTerms = [];
    let timer;

    const settings = {
      vocab1: true,
      vocab2: true
    };

    // Update settings when toggles change
    document.getElementById("toggleVocab1").addEventListener("change", e => settings.vocab1 = e.target.checked);
    document.getElementById("toggleVocab2").addEventListener("change", e => settings.vocab2 = e.target.checked);

    function startQuiz() {
      document.getElementById("results").innerHTML = "";
      const form = document.getElementById("quizForm");
      form.innerHTML = "";

      const sources = [];
      if (settings.vocab1) sources.push(vocab1);
      if (settings.vocab2) sources.push(vocab2);

      if (sources.length === 0) {
        alert("Please enable at least one vocab source.");
        return;
      }

      const useRange = document.getElementById("useRange").checked;
      const rangeStart = parseInt(document.getElementById("rangeStart").value) - 1; // convert to 0-based
      const rangeEnd = parseInt(document.getElementById("rangeEnd").value) - 1;

      const maxLength = Math.min(...sources.map(arr => arr.length));
      const validStart = Math.max(0, Math.min(rangeStart, maxLength - 1));
      const validEnd = Math.max(validStart, Math.min(rangeEnd, maxLength - 1));
      if (useRange && (validEnd - validStart + 1) < 10) {
        alert("Selected range must include at least 10 items for the quiz.");
        return;
      }

      const usedIndices = new Set();
      selectedTerms = [];

      while (selectedTerms.length < 10) {
        const index = useRange
          ? Math.floor(Math.random() * (validEnd - validStart + 1)) + validStart
          : Math.floor(Math.random() * maxLength);
        if (usedIndices.has(index)) continue;

        const source = sources[Math.floor(Math.random() * sources.length)];
        selectedTerms.push(source[index]);
        usedIndices.add(index);
      }

      selectedTerms.forEach((item, index) => {
        const display = item.def || item.function || item.context || "No definition available";
        const block = document.createElement("div");
        block.className = "term-block";
        block.innerHTML = `<strong>${index + 1}. ${display}</strong><br>
          <input type="text" id="q${index}" placeholder="Type the matching term" autocomplete="off">`;
        form.appendChild(block);
      });

      startTimer(240);
    }

    function startTimer(seconds) {
      clearInterval(timer);
      const timerDisplay = document.getElementById("timer");
      timerDisplay.textContent = `Time Remaining: ${seconds}s`;

      timer = setInterval(() => {
        seconds--;
        timerDisplay.textContent = `Time Remaining: ${seconds}s`;
        if (seconds <= 0) {
          clearInterval(timer);
          submitQuiz();
        }
      }, 1000);
    }

    function submitQuiz() {
      clearInterval(timer);
      let output = "<h2>Results</h2><ul>";

      selectedTerms.forEach((item, index) => {
        const typed = document.getElementById(`q${index}`).value.trim();
        const display = item.def || item.function || item.context || "No definition available";
        output += `<li><strong>Definition:</strong> ${display}<br>
        <strong>Your answer:</strong> ${typed}<br>
        <strong>Correct term:</strong> ${item.term}</li>`;
      });

      document.getElementById("results").innerHTML = output;
    }

  </script>
</body>
</html>
